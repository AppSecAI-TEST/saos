subprojects {
    
    apply plugin: 'java'
    apply plugin: 'eclipse'
    apply plugin: 'eclipse-wtp' /** without this wtp does not upload dependant projects, http://stackoverflow.com/questions/23697438/gradle-groovy-project-dependent-on-java-project*/
    
    
    repositories {
       mavenCentral()
       maven { url "http://repo.spring.io/libs-milestone" }
         
    }

    ext.springVersion = "4.0.5.RELEASE"
    

    ext.lib = [
        'org.apache.commons:commons-lang3'                     :'org.apache.commons:commons-lang3:3.3.2',
        'commons-collections:commons-collections'              :'commons-collections:commons-collections:3.2.1',
        'joda-time:joda-time'                                  :'joda-time:joda-time:2.3',
        'joda-time:joda-time-jsptags'                          :'joda-time:joda-time-jsptags:1.1.1',
        
        'org.springframework.data:spring-data-jpa'             :'org.springframework.data:spring-data-jpa:1.6.0.RELEASE',
        
        'org.springframework.security:spring-security-taglibs' :'org.springframework.security:spring-security-taglibs:3.2.4.RELEASE',
        'org.springframework.security:spring-security-web'     :'org.springframework.security:spring-security-web:3.2.4.RELEASE',
        'org.springframework.security:spring-security-config'  :'org.springframework.security:spring-security-config:3.2.4.RELEASE',
    
        'org.apache.tiles:tiles-jsp'                           :'org.apache.tiles:tiles-jsp:3.0.4',
        'javax.servlet:javax.servlet-api'                      :'javax.servlet:javax.servlet-api:3.1.0',
        'javax.servlet:jsp-api'                                :'javax.servlet:jsp-api:2.0',
        'javax.servlet:jstl'                                   :'javax.servlet:jstl:1.2',
        
        'org.hibernate:hibernate-core'                         :'org.hibernate:hibernate-core:4.3.5.Final',
        'org.hibernate:hibernate-ehcache'                      :'org.hibernate:hibernate-ehcache:4.3.5.Final',
        'org.apache.commons:commons-dbcp2'                     :'org.apache.commons:commons-dbcp2:2.0.1',
        'org.postgresql:postgresql'                            :'org.postgresql:postgresql:9.3-1101-jdbc41',
        'org.jadira.usertype:usertype.jodatime'                :'org.jadira.usertype:usertype.jodatime:2.0.1',
        'net.sf.ehcache:ehcache'                               :'net.sf.ehcache:ehcache:2.8.2',
        
        'org.springframework:spring-context'                   :'org.springframework:spring-context:'+springVersion,
        'org.springframework:spring-webmvc'                    :'org.springframework:spring-webmvc:'+springVersion,
        'org.springframework:spring-orm'                       :'org.springframework:spring-orm:'+springVersion,
        'org.springframework:spring-test'                      :'org.springframework:spring-test:'+springVersion,
        
        'org.springframework.data:spring-data-jpa'             :'org.springframework.data:spring-data-jpa:1.6.0.RELEASE',
        
        'org.slf4j:slf4j-api'                                  :'org.slf4j:slf4j-api:1.7.5',
        'org.slf4j:slf4j-simple'                               :'org.slf4j:slf4j-simple:1.7.5',
        'ch.qos.logback:logback-classic'                       :'ch.qos.logback:logback-classic:1.0.13',
        'org.codehaus.groovy:groovy-all'                       :'org.codehaus.groovy:groovy-all:2.2.1' 
        
        
    ]
    
    dependencies {
        compile lib.'org.apache.commons:commons-lang3'
        testCompile 'junit:junit:4.8.2'
        testCompile lib.'org.springframework:spring-test'
        compile lib.'org.slf4j:slf4j-api'   
        compile lib.'org.slf4j:slf4j-simple'
        compile lib.'ch.qos.logback:logback-classic' 
        compile lib.'org.codehaus.groovy:groovy-all' 
        
    }

    version = '0.0.1-SNAPSHOT'

    jar {
        manifest.attributes provider: 'University of Warsaw, ICM'
    }
    
    tasks.withType(Compile) {
        options.encoding = 'UTF-8'
    }
    
    task wrapper(type: Wrapper) {
        gradleVersion = '1.12'
    }
    
    
}
